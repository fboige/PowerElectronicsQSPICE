Version 4
SHEET 1 1624 680
WIRE 352 0 48 0
WIRE 464 0 352 0
WIRE 352 32 352 0
WIRE 464 32 464 0
WIRE 272 48 272 16
WIRE 272 48 192 48
WIRE 304 48 272 48
WIRE 48 128 48 0
WIRE 304 128 304 96
WIRE 304 128 192 128
WIRE 352 128 352 112
WIRE 464 128 464 96
WIRE 464 128 352 128
WIRE 352 160 352 128
WIRE 480 160 352 160
WIRE 576 160 560 160
WIRE 688 160 656 160
WIRE 800 160 688 160
WIRE 352 192 352 160
WIRE 464 192 352 192
WIRE 800 192 800 160
WIRE 48 208 48 192
WIRE 304 208 192 208
WIRE 352 224 352 192
WIRE 304 240 304 208
WIRE 464 240 464 192
WIRE 304 288 192 288
WIRE 48 320 48 208
WIRE 256 320 48 320
WIRE 352 320 352 304
WIRE 352 320 256 320
WIRE 464 320 464 304
WIRE 464 320 352 320
WIRE 688 320 688 304
WIRE 688 320 464 320
WIRE 800 320 800 272
WIRE 800 320 688 320
WIRE 256 384 256 320
WIRE 256 384 240 384
FLAG 240 384 0
SYMBOL voltage 48 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value {vDc}
SYMBOL sw 352 16 R0
SYMATTR InstName S1
SYMATTR Value SWMOD1
SYMBOL sw 352 208 R0
SYMATTR InstName S2
SYMATTR Value SWMOD1
SYMBOL ind 464 176 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 400e-6
SYMBOL cap 672 160 R0
SYMATTR InstName C1
SYMATTR Value 10e-6
SYMBOL res 672 208 R0
SYMATTR InstName R1
SYMATTR Value 1e-3
SYMBOL res 560 176 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R2
SYMATTR Value 1e-3
SYMBOL res 784 176 R0
SYMATTR InstName R3
SYMATTR Value {rLoad}
SYMBOL diode 480 304 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMBOL diode 480 96 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMBOL voltage 192 144 R180
WINDOW 0 24 96 Left 2
WINDOW 3 249 66 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE {vGoff} {vGon} 0 1e-6 1e-6 {tPeriod*duty} {tPeriod}
SYMBOL voltage 192 304 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE {vGon} {vGoff} 0 1e-6 1e-6 {tPeriod*duty} {tPeriod}
TEXT 928 -24 Left 2 !*Ctrl+M for a new line\n \n.param vDc=100\n \n.param fSw = 10e3 \n \n.param vGon = 5\n.param vGoff = -5\n \n.param tPeriod = 1/fSw\n.param duty = 0.3 \n \n.model SWMOD1 SW(Ron=0.001 Roff=1Meg Vt=0 Vh=-1) \n \n.param pOut=1e3\n \n.param vOut=vDc*duty \n \n.param rLoad=vOut^2/pOut  \n \n.tran 100m\n \n.ic V(n05)=vOut I(L1)=23\n \n.model IdealDiode D(RON=0.01 ROFF=1e6)
